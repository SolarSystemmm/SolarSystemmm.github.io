<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://threejs.org/build/three.min.js"></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
</head>

<body>
    <p id="egg" class="zI">





        <style>
            body {
                height: 200vh;
            }

            #preloader {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                z-index: 99;
            }

            .overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 1);
                z-index: 9;
                transition: all 1s ease-in;
            }

            .disabled {
                /* pointer-events: none; */
                background: rgba(0, 0, 0, 0) !important;
            }

            .zI {
                z-index: 99 !important;
            }

            #egg {
                position: relative;
            }

            .deadstar {
                transition: all 1s ease-in;
                position: absolute;
                top: 0;
                left: 0;
            }

            .active-egg {
                position: static;
                transform: translateX(25%);
            }

            * {
                margin: 0;
                padding: 0;
            }

            p {
                margin: 0;
            }

            body {

                font-family: 'Roboto';
                background: #151515;
            }

            .loading {
                position: absolute;
                bottom: 5%;
                left: 50%;
                transform: translateX(-50%);
                transition: all 1s ease-in;
            }

            .percent {
                color: #c09669;
                font-size: 20px;
                font-family: sans-serif;
                font-weight: 400;
                text-align: center;
                margin-top: 15px;
            }

            .progress-bar {
                width: 406px;
                height: 21px;
                background: #111;
                border-radius: 13px;
                padding: 3px;
                box-sizing: border-box;
            }

            .progress {
                width: 10px;
                height: 15px;
                background: #c09669;
                border-radius: 13px;
            }
        </style>
        <script src="script.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r119/three.js"
            integrity="sha512-N5Z+KLrIeRjD6NODmfDTz8onfsVTGwPmExvMVuQrGV/Y1gjTiJ+j2OLxViDzpxGqVX158pwTeZm6XDrCveo1jQ=="
            crossorigin="anonymous"></script>
        <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>

        <script src="script.js"></script>
        <script>
            // var camera, scene, renderer, controls, stats;
            // init();
            // animate();

            // function init() {

            //     renderer = new THREE.WebGLRenderer({
            //         antialias: true
            //     });
            //     renderer.setPixelRatio(window.devicePixelRatio);
            //     renderer.setSize(innerWidth , innerHeight);
            //     document.body.appendChild(renderer.domElement);

            //     scene = new THREE.Scene();

            //     camera = new THREE.PerspectiveCamera((60, innerWidth / innerHeight, 1, 1000));
            //     camera.position.set(0, 0, 10);                // camera.position.y = 0;
            //     scene.add(camera);

            //     controls = new THREE.TrackballControls(camera, renderer.domElement);
            //     // controls.minDistance = 1000.0;
            //     // controls.maxDistance = 10000.0;
            //     // controls.dynamicDampingFactor = 0.1;
            //     //   controls.rotation.z = 0; 
            //     //                              //
            //     controls.rotateSpeed = 2.0
            //     //                              //


            //     scene.add(new THREE.AmbientLight(0xffffff, 0.2));

            //     var light = new THREE.PointLight(0xffffff, 0.7);
            //     camera.add(light);

            //     // createScene();

            //     // stats = new Stats();
            //     // document.body.appendChild(stats.dom);
            //     window.addEventListener('mousemove', onChangeSpeed, false)
            //     window.addEventListener('resize', onWindowResize, false);


            // }

            // function onChangeSpeed(e) {
            //     // controls.rotateSpeed = 2.0
            // }
            // var tex = new THREE.TextureLoader().load(
            //     "https://solarsystemmm.github.io/3D/final-moon.jpg"
            // );
            // // Инициализация сферы
            // var sphereGeom = new THREE.SphereBufferGeometry(0.7, 32, 32);

            // // Создание сферы
            // var innerSphere = new THREE.Mesh(
            //     sphereGeom,
            //     new THREE.MeshLambertMaterial({
            //         map: tex,
            //     })
            // );
            // // Дал сфере форму овала
            // innerSphere.scale.set(4, 4.5, 4);
            // scene.add(innerSphere);
            // window.addEventListener("mousemove", rotating, false);

            // // Скорость вращения по дефолту
            // let rotationFactorY = 0.1;
            // let rotationFactorX = 0.1;
            // // Не менять значение ниже
            // const maxRotationSpeed = 0.1;

            // function rotating(e) {
            //     // 0.25 - текущая скорость вращения, 2ку - не менять
            //     rotationFactorY = 0.25 * (e.clientX - window.innerWidth / 2) / window.innerWidth;
            //     rotationFactorX = 0.25 * (e.clientY - window.innerHeight / 2) / window.innerHeight;
            // }

            // // Начало
            // // ИСТОЧНИК СВЕТА 
            // // 1.5 - яркость света
            // var light = new THREE.DirectionalLight(0xffffff, 1.5);
            // // Координата Y (я потом сам поменяю)
            // light.position.y = window.innerHeight / 2;
            // // Координата Z (я потом сам поменяю)
            // light.position.z = window.innerHeight / 1.4;
            // scene.add(light);
            // // Конец 


            // function onWindowResize() {

            //     // camera.aspect = window.innerWidth / window.innerHeight;
            //     camera.updateProjectionMatrix();
            //     renderer.setSize(window.innerWidth, window.innerHeight);

            // }

            // function animate() {

            //     requestAnimationFrame(animate);

            //     controls.update();
            //     // stats.update();

            //     renderer.render(scene, camera);

            // }
            // window.onload = () => {
            //     var scene = new THREE.Scene();
            //     // Камера (изменю значения позже)

            //     var camera = new THREE.PerspectiveCamera(60, innerWidth / innerHeight, 1, 1000);
            //     camera.position.set(0, 0, 10);
            //     var renderer = new THREE.WebGLRenderer({
            //         antialias: true
            //     });
            //                     renderer.setPixelRatio(window.devicePixelRatio);
            //     // Размер канваса, если менять то сразу 2 значения, и делить на одинаковые числа! Пример: innerWidth/2 , innerHeight/2
            //     renderer.setSize(innerWidth, innerHeight);
            //     document.body.appendChild(renderer.domElement);

            //     controls = new THREE.TrackballControls(camera, renderer.domElement);
            //     controls.rotateSpeed = 2.0
            //     //Возможно заменить url на свой (загрузить текстуру на свой сервер перед этим!)
            //     var tex = new THREE.TextureLoader().load(
            //         "https://solarsystemmm.github.io/3D/final-moon.jpg"
            //     );
            //     // Инициализация сферы
            //     var sphereGeom = new THREE.SphereBufferGeometry(0.7, 32, 32);

            //     // Создание сферы
            //     var innerSphere = new THREE.Mesh(
            //         sphereGeom,
            //         new THREE.MeshLambertMaterial({
            //             map: tex,
            //         })
            //     );
            //     // Дал сфере форму овала
            //     innerSphere.scale.set(4, 4.5, 4);
            //     scene.add(innerSphere);
            //     // window.addEventListener("mousemove", rotating, false);
            //     window.addEventListener('resize', onWindowResize, false);

            //     // Скорость вращения по дефолту
            //     let rotationFactorY = 0.1;
            //     let rotationFactorX = 0.1;
            //     // Не менять значение ниже
            //     const maxRotationSpeed = 0.1;

            //     function rotating(e) {
            //         // 0.25 - текущая скорость вращения, 2ку - не менять
            //         rotationFactorY = 0.25 * (e.clientX - window.innerWidth / 2) / window.innerWidth;
            //         rotationFactorX = 0.25 * (e.clientY - window.innerHeight / 2) / window.innerHeight;
            //     }

            //     // Начало
            //     // ИСТОЧНИК СВЕТА 
            //     // 1.5 - яркость света
            //     var light = new THREE.DirectionalLight(0xffffff, 1.5);
            //     // Координата Y (я потом сам поменяю)
            //     light.position.y = window.innerHeight / 2;
            //     // Координата Z (я потом сам поменяю)
            //     light.position.z = window.innerHeight / 1.4;
            //     scene.add(light);
            //     // Конец 


            //     function animate() {

            //         requestAnimationFrame(animate);

            //         controls.update();
            //         // stats.update();

            //         renderer.render(scene, camera);

            //     }
            //     function onWindowResize() {
            //         camera.aspect = window.innerWidth / window.innerHeight;
            //         camera.updateProjectionMatrix();
            //         renderer.setSize(window.innerWidth, window.innerHeight);

            //     }
            //     animate()
            // }
            var camera, scene, renderer, controls, stats, innerSphere, rotationFactorY, rotationFactorX,
                maxRotationSpeed;

            init();
            animate();

            function init() {

                renderer = new THREE.WebGLRenderer({
                    antialias: true
                });
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setSize(window.innerWidth, window.innerHeight);
                document.body.appendChild(renderer.domElement);

                scene = new THREE.Scene();

                camera = new THREE.PerspectiveCamera(60, innerWidth / innerHeight, 1, 1000);
                camera.position.set(0, 0, 10);
                scene.add(camera);

                controls = new THREE.TrackballControls(camera, renderer.domElement);
                controls.minDistance = 250.0;
                controls.maxDistance = 250.0;
                // controls.dynamicDampingFactor = 0.1;
                controls.rotateSpeed = 4.0

                scene.add(new THREE.AmbientLight(0xffffff, 0.2));

                var light = new THREE.PointLight(0xffffff, 0.7);
                camera.add(light);

                // stats = new Stats();
                // document.body.appendChild( stats.dom );

                window.addEventListener('resize', onWindowResize, false);

                var tex = new THREE.TextureLoader().load(
                    "https://solarsystemmm.github.io/3D/final-moon.jpg"
                );
                // Инициализация сферы
                var sphereGeom = new THREE.SphereBufferGeometry(15, 32, 32);

                // Создание сферы
                innerSphere = new THREE.Mesh(
                    sphereGeom,
                    new THREE.MeshLambertMaterial({
                        map: tex,
                    })
                );
                // Дал сфере форму овала
                innerSphere.scale.set(4, 4.5, 4);
                scene.add(innerSphere);
                // window.addEventListener("mousemove", rotating, false);
                window.addEventListener('resize', onWindowResize, false);

                rotationFactorY = 0.1;
                rotationFactorX = 0.1;
                // Не менять значение ниже
                maxRotationSpeed = 0.1;

            }



            function rotating(e) {
                // 0.25 - текущая скорость вращения, 2ку - не менять
                rotationFactorY = 0.25 * (e.clientX - window.innerWidth / 2) / window.innerWidth;
                rotationFactorX = 0.25 * (e.clientY - window.innerHeight / 2) / window.innerHeight;
            }

            function onWindowResize() {

                // camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);

            }

            function animate() {
				// camera.position.y += ( - mouseY - camera.position.y ) * 0.05;

                requestAnimationFrame(animate);

                controls.update();

                renderer.render(scene, camera);

            }
        </script>
</body>


</html>